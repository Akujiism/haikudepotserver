<?xml version="1.0" encoding="utf-8"?>
<data-map xmlns="http://cayenne.apache.org/schema/3.0/modelMap"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xsi:schemaLocation="http://cayenne.apache.org/schema/3.0/modelMap http://cayenne.apache.org/schema/3.0/modelMap.xsd"
	 project-version="6">
	<property name="defaultLockType" value="optimistic"/>
	<property name="defaultPackage" value="org.haikuos.haikudepotserver.dataobjects"/>
	<property name="defaultSchema" value="haikudepot"/>
	<property name="defaultSuperclass" value="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject"/>
	<db-entity name="architecture" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.architecture_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="localization_content" schema="haikudepot">
		<db-attribute name="content" type="VARCHAR" isMandatory="true" length="65535"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.localization_content_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="media_type" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.media_type_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="natural_language" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_popular" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.natural_language_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="permission" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
		</db-key-generator>
	</db-entity>
	<db-entity name="permission_user_pkg" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="permission_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.permission_user_pkg_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="derived_rating" type="FLOAT"/>
		<db-attribute name="derived_rating_sample_size" type="INTEGER" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="prominence_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="publisher_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_category" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_category_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_icon" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="media_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="size" type="INTEGER"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_icon_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_icon_image" schema="haikudepot">
		<db-attribute name="data" type="VARBINARY" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_icon_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_icon_image_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_localization" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description" type="VARCHAR" length="8192"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="summary" type="VARCHAR" length="8192"/>
		<db-attribute name="title" type="VARCHAR" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_localization_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_pkg_category" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_category_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_pkg_category_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_screenshot" schema="haikudepot">
		<db-attribute name="code" type="CHAR" isMandatory="true" length="36"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="height" type="INTEGER" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="length" type="INTEGER" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="width" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_screenshot_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_screenshot_image" schema="haikudepot">
		<db-attribute name="data" type="VARBINARY" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="media_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_screenshot_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_screenshot_image_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_url_type" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_url_type_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="architecture_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_latest" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="major" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="micro" type="VARCHAR" length="255"/>
		<db-attribute name="minor" type="VARCHAR" length="255"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="payload_length" type="BIGINT"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pre_release" type="VARCHAR" length="255"/>
		<db-attribute name="repository_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="revision" type="INTEGER"/>
		<db-attribute name="view_counter" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_copyright" schema="haikudepot">
		<db-attribute name="body" type="VARCHAR" isMandatory="true" length="4096"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_copyright_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_license" schema="haikudepot">
		<db-attribute name="body" type="VARCHAR" isMandatory="true" length="4096"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_license_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_localization" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description_localization_content_id" type="BIGINT"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT"/>
		<db-attribute name="summary_localization_content_id" type="BIGINT"/>
		<db-attribute name="title_localization_content_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_localization_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_url" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_url_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="url" type="VARCHAR" isMandatory="true" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_url_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="prominence" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.prominence_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="publisher" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="email" type="VARCHAR" length="1024"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="1024"/>
		<db-attribute name="site_url" type="VARCHAR" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.publisher_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="repository" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="architecture_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="url" type="VARCHAR" isMandatory="true" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.repository_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="can_manage_users" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="email" type="VARCHAR" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_root" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="nickname" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="password_hash" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="password_salt" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_password_reset_token" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_password_reset_token_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_rating" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="36"/>
		<db-attribute name="comment" type="VARCHAR" length="4096"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="rating" type="SMALLINT"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="user_rating_stability_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_rating_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_rating_stability" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_rating_stability_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<obj-entity name="Architecture" className="org.haikuos.haikudepotserver.dataobjects.Architecture" readOnly="true" lock-type="optimistic" dbEntityName="architecture" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="LocalizationContent" className="org.haikuos.haikudepotserver.dataobjects.LocalizationContent" dbEntityName="localization_content" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="content" type="java.lang.String" db-attribute-path="content"/>
	</obj-entity>
	<obj-entity name="MediaType" className="org.haikuos.haikudepotserver.dataobjects.MediaType" readOnly="true" lock-type="optimistic" dbEntityName="media_type" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="NaturalLanguage" className="org.haikuos.haikudepotserver.dataobjects.NaturalLanguage" readOnly="true" lock-type="optimistic" dbEntityName="natural_language" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="isPopular" type="java.lang.Boolean" db-attribute-path="is_popular"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="Permission" className="org.haikuos.haikudepotserver.dataobjects.Permission" readOnly="true" dbEntityName="permission" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PermissionUserPkg" className="org.haikuos.haikudepotserver.dataobjects.PermissionUserPkg" lock-type="optimistic" dbEntityName="permission_user_pkg" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
	</obj-entity>
	<obj-entity name="Pkg" className="org.haikuos.haikudepotserver.dataobjects.Pkg" lock-type="optimistic" dbEntityName="pkg" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="derivedRating" type="java.lang.Float" db-attribute-path="derived_rating"/>
		<obj-attribute name="derivedRatingSampleSize" type="java.lang.Integer" lock="true" db-attribute-path="derived_rating_sample_size"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PkgCategory" className="org.haikuos.haikudepotserver.dataobjects.PkgCategory" readOnly="true" lock-type="optimistic" dbEntityName="pkg_category" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PkgIcon" className="org.haikuos.haikudepotserver.dataobjects.PkgIcon" lock-type="optimistic" dbEntityName="pkg_icon" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="size" type="java.lang.Integer" db-attribute-path="size"/>
	</obj-entity>
	<obj-entity name="PkgIconImage" className="org.haikuos.haikudepotserver.dataobjects.PkgIconImage" dbEntityName="pkg_icon_image" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="data" type="byte[]" db-attribute-path="data"/>
	</obj-entity>
	<obj-entity name="PkgLocalization" className="org.haikuos.haikudepotserver.dataobjects.PkgLocalization" lock-type="optimistic" dbEntityName="pkg_localization" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="description" type="java.lang.String" db-attribute-path="description"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="summary" type="java.lang.String" db-attribute-path="summary"/>
		<obj-attribute name="title" type="java.lang.String" db-attribute-path="title"/>
	</obj-entity>
	<obj-entity name="PkgPkgCategory" className="org.haikuos.haikudepotserver.dataobjects.PkgPkgCategory" dbEntityName="pkg_pkg_category" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
	</obj-entity>
	<obj-entity name="PkgScreenshot" className="org.haikuos.haikudepotserver.dataobjects.PkgScreenshot" lock-type="optimistic" dbEntityName="pkg_screenshot" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="height" type="java.lang.Integer" db-attribute-path="height"/>
		<obj-attribute name="length" type="java.lang.Integer" db-attribute-path="length"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
		<obj-attribute name="width" type="java.lang.Integer" db-attribute-path="width"/>
	</obj-entity>
	<obj-entity name="PkgScreenshotImage" className="org.haikuos.haikudepotserver.dataobjects.PkgScreenshotImage" dbEntityName="pkg_screenshot_image" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="data" type="byte[]" db-attribute-path="data"/>
	</obj-entity>
	<obj-entity name="PkgUrlType" className="org.haikuos.haikudepotserver.dataobjects.PkgUrlType" readOnly="true" lock-type="optimistic" dbEntityName="pkg_url_type" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="PkgVersion" className="org.haikuos.haikudepotserver.dataobjects.PkgVersion" lock-type="optimistic" dbEntityName="pkg_version" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="isLatest" type="java.lang.Boolean" lock="true" db-attribute-path="is_latest"/>
		<obj-attribute name="major" type="java.lang.String" db-attribute-path="major"/>
		<obj-attribute name="micro" type="java.lang.String" db-attribute-path="micro"/>
		<obj-attribute name="minor" type="java.lang.String" db-attribute-path="minor"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="payloadLength" type="java.lang.Long" lock="true" db-attribute-path="payload_length"/>
		<obj-attribute name="preRelease" type="java.lang.String" db-attribute-path="pre_release"/>
		<obj-attribute name="revision" type="java.lang.Integer" db-attribute-path="revision"/>
		<obj-attribute name="viewCounter" type="java.lang.Long" lock="true" db-attribute-path="view_counter"/>
	</obj-entity>
	<obj-entity name="PkgVersionCopyright" className="org.haikuos.haikudepotserver.dataobjects.PkgVersionCopyright" lock-type="optimistic" dbEntityName="pkg_version_copyright" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="body" type="java.lang.String" lock="true" db-attribute-path="body"/>
	</obj-entity>
	<obj-entity name="PkgVersionLicense" className="org.haikuos.haikudepotserver.dataobjects.PkgVersionLicense" lock-type="optimistic" dbEntityName="pkg_version_license" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="body" type="java.lang.String" lock="true" db-attribute-path="body"/>
	</obj-entity>
	<obj-entity name="PkgVersionLocalization" className="org.haikuos.haikudepotserver.dataobjects.PkgVersionLocalization" lock-type="optimistic" dbEntityName="pkg_version_localization" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
	</obj-entity>
	<obj-entity name="PkgVersionUrl" className="org.haikuos.haikudepotserver.dataobjects.PkgVersionUrl" lock-type="optimistic" dbEntityName="pkg_version_url" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="url" type="java.lang.String" lock="true" db-attribute-path="url"/>
	</obj-entity>
	<obj-entity name="Prominence" className="org.haikuos.haikudepotserver.dataobjects.Prominence" readOnly="true" lock-type="optimistic" dbEntityName="prominence" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
	</obj-entity>
	<obj-entity name="Publisher" className="org.haikuos.haikudepotserver.dataobjects.Publisher" lock-type="optimistic" dbEntityName="publisher" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="email" type="java.lang.String" lock="true" db-attribute-path="email"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
		<obj-attribute name="siteUrl" type="java.lang.String" lock="true" db-attribute-path="site_url"/>
	</obj-entity>
	<obj-entity name="Repository" className="org.haikuos.haikudepotserver.dataobjects.Repository" lock-type="optimistic" dbEntityName="repository" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="url" type="java.lang.String" lock="true" db-attribute-path="url"/>
	</obj-entity>
	<obj-entity name="User" className="org.haikuos.haikudepotserver.dataobjects.User" lock-type="optimistic" dbEntityName="user" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="canManageUsers" type="java.lang.Boolean" lock="true" db-attribute-path="can_manage_users"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="email" type="java.lang.String" lock="true" db-attribute-path="email"/>
		<obj-attribute name="isRoot" type="java.lang.Boolean" lock="true" db-attribute-path="is_root"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="nickname" type="java.lang.String" lock="true" db-attribute-path="nickname"/>
		<obj-attribute name="passwordHash" type="java.lang.String" lock="true" db-attribute-path="password_hash"/>
		<obj-attribute name="passwordSalt" type="java.lang.String" lock="true" db-attribute-path="password_salt"/>
		<post-add method-name="onPostAdd"/>
	</obj-entity>
	<obj-entity name="UserPasswordResetToken" className="org.haikuos.haikudepotserver.dataobjects.UserPasswordResetToken" lock-type="optimistic" dbEntityName="user_password_reset_token" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
	</obj-entity>
	<obj-entity name="UserRating" className="org.haikuos.haikudepotserver.dataobjects.UserRating" lock-type="optimistic" dbEntityName="user_rating" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="comment" type="java.lang.String" db-attribute-path="comment"/>
		<obj-attribute name="createTimestamp" type="java.util.Date" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.util.Date" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="rating" type="java.lang.Short" lock="true" db-attribute-path="rating"/>
		<post-add method-name="onPostAdd"/>
	</obj-entity>
	<obj-entity name="UserRatingStability" className="org.haikuos.haikudepotserver.dataobjects.UserRatingStability" readOnly="true" lock-type="optimistic" dbEntityName="user_rating_stability" superClassName="org.haikuos.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
	</obj-entity>
	<db-relationship name="untitledRel" source="media_type" target="pkg_icon" toMany="true">
		<db-attribute-pair source="id" target="media_type_id"/>
	</db-relationship>
	<db-relationship name="untitledRel1" source="media_type" target="pkg_screenshot_image" toMany="true">
		<db-attribute-pair source="id" target="media_type_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_localizations" source="natural_language" target="pkg_version_localization" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="natural_language" target="pkg_localization" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="natural_language" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="users" source="natural_language" target="user" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="permission" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="permission_id"/>
	</db-relationship>
	<db-relationship name="permission" source="permission_user_pkg" target="permission" toMany="false">
		<db-attribute-pair source="permission_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="permission_user_pkg" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="user" source="permission_user_pkg" target="user" toMany="false">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="permission_user_pkgs" source="pkg" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_icons" source="pkg" target="pkg_icon" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_localizations" source="pkg" target="pkg_localization" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_pkg_categories" source="pkg" target="pkg_pkg_category" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshots" source="pkg" target="pkg_screenshot" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="prominence" source="pkg" target="prominence" toMany="false">
		<db-attribute-pair source="prominence_id" target="id"/>
	</db-relationship>
	<db-relationship name="publisher" source="pkg" target="publisher" toMany="false">
		<db-attribute-pair source="publisher_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_pkg_categories" source="pkg_category" target="pkg_pkg_category" toMany="true">
		<db-attribute-pair source="id" target="pkg_category_id"/>
	</db-relationship>
	<db-relationship name="media_type" source="pkg_icon" target="media_type" toMany="false">
		<db-attribute-pair source="media_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_icon" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_icon_images" source="pkg_icon" target="pkg_icon_image" toMany="true">
		<db-attribute-pair source="id" target="pkg_icon_id"/>
	</db-relationship>
	<db-relationship name="pkg_icon" source="pkg_icon_image" target="pkg_icon" toMany="false">
		<db-attribute-pair source="pkg_icon_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="pkg_localization" target="natural_language" toMany="false">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_localization" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_pkg_category" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_category" source="pkg_pkg_category" target="pkg_category" toMany="false">
		<db-attribute-pair source="pkg_category_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_screenshot" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshot_images" source="pkg_screenshot" target="pkg_screenshot_image" toMany="true">
		<db-attribute-pair source="id" target="pkg_screenshot_id"/>
	</db-relationship>
	<db-relationship name="media_type" source="pkg_screenshot_image" target="media_type" toMany="false">
		<db-attribute-pair source="media_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshot" source="pkg_screenshot_image" target="pkg_screenshot" toMany="false">
		<db-attribute-pair source="pkg_screenshot_id" target="id"/>
	</db-relationship>
	<db-relationship name="architecture" source="pkg_version" target="architecture" toMany="false">
		<db-attribute-pair source="architecture_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_version" target="pkg" toMany="false">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version_copyrights" source="pkg_version" target="pkg_version_copyright" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_licenses" source="pkg_version" target="pkg_version_license" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_localizations" source="pkg_version" target="pkg_version_localization" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_urls" source="pkg_version" target="pkg_version_url" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="repository" source="pkg_version" target="repository" toMany="false">
		<db-attribute-pair source="repository_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="pkg_version" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_copyright" target="pkg_version" toMany="false">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_license" target="pkg_version" toMany="false">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="description_localization_content" source="pkg_version_localization" target="localization_content" toMany="false">
		<db-attribute-pair source="description_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="pkg_version_localization" target="natural_language" toMany="false">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_localization" target="pkg_version" toMany="false">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="summary_localization_content" source="pkg_version_localization" target="localization_content" toMany="false">
		<db-attribute-pair source="summary_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="title_localization_content" source="pkg_version_localization" target="localization_content" toMany="false">
		<db-attribute-pair source="title_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_url_type" source="pkg_version_url" target="pkg_url_type" toMany="false">
		<db-attribute-pair source="pkg_url_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_url" target="pkg_version" toMany="false">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkgs" source="prominence" target="pkg" toMany="true">
		<db-attribute-pair source="id" target="prominence_id"/>
	</db-relationship>
	<db-relationship name="pkgs" source="publisher" target="pkg" toMany="true">
		<db-attribute-pair source="id" target="publisher_id"/>
	</db-relationship>
	<db-relationship name="architecture" source="repository" target="architecture" toMany="false">
		<db-attribute-pair source="architecture_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_versions" source="repository" target="pkg_version" toMany="true">
		<db-attribute-pair source="id" target="repository_id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="user" target="natural_language" toMany="false">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="user" target="user_password_reset_token" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="untitledRel1" source="user" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="user" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user" source="user_password_reset_token" target="user" toMany="false">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="user_rating" target="natural_language" toMany="false">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="user_rating" target="pkg_version" toMany="false">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="user" source="user_rating" target="user" toMany="false">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_rating_stability" source="user_rating" target="user_rating_stability" toMany="false">
		<db-attribute-pair source="user_rating_stability_id" target="id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="user_rating_stability" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="user_rating_stability_id"/>
	</db-relationship>
	<obj-relationship name="permission" source="PermissionUserPkg" target="Permission" deleteRule="Nullify" db-relationship-path="permission"/>
	<obj-relationship name="pkg" source="PermissionUserPkg" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="user" source="PermissionUserPkg" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="permissionUserPkgs" source="Pkg" target="PermissionUserPkg" deleteRule="Cascade" db-relationship-path="permission_user_pkgs"/>
	<obj-relationship name="pkgIcons" source="Pkg" target="PkgIcon" deleteRule="Cascade" db-relationship-path="pkg_icons"/>
	<obj-relationship name="pkgLocalizations" source="Pkg" target="PkgLocalization" deleteRule="Cascade" db-relationship-path="pkg_localizations"/>
	<obj-relationship name="pkgPkgCategories" source="Pkg" target="PkgPkgCategory" deleteRule="Cascade" db-relationship-path="pkg_pkg_categories"/>
	<obj-relationship name="pkgScreenshots" source="Pkg" target="PkgScreenshot" deleteRule="Cascade" db-relationship-path="pkg_screenshots"/>
	<obj-relationship name="prominence" source="Pkg" target="Prominence" deleteRule="Nullify" db-relationship-path="prominence"/>
	<obj-relationship name="publisher" source="Pkg" target="Publisher" deleteRule="Nullify" db-relationship-path="publisher"/>
	<obj-relationship name="mediaType" source="PkgIcon" target="MediaType" deleteRule="Nullify" db-relationship-path="media_type"/>
	<obj-relationship name="pkg" source="PkgIcon" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkgIconImages" source="PkgIcon" target="PkgIconImage" deleteRule="Deny" db-relationship-path="pkg_icon_images"/>
	<obj-relationship name="pkgIcon" source="PkgIconImage" target="PkgIcon" deleteRule="Nullify" db-relationship-path="pkg_icon"/>
	<obj-relationship name="naturalLanguage" source="PkgLocalization" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkg" source="PkgLocalization" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkg" source="PkgPkgCategory" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkgCategory" source="PkgPkgCategory" target="PkgCategory" deleteRule="Nullify" db-relationship-path="pkg_category"/>
	<obj-relationship name="pkg" source="PkgScreenshot" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkgScreenshotImages" source="PkgScreenshot" target="PkgScreenshotImage" deleteRule="Deny" db-relationship-path="pkg_screenshot_images"/>
	<obj-relationship name="mediaType" source="PkgScreenshotImage" target="MediaType" deleteRule="Nullify" db-relationship-path="media_type"/>
	<obj-relationship name="pkgScreenshot" source="PkgScreenshotImage" target="PkgScreenshot" deleteRule="Nullify" db-relationship-path="pkg_screenshot"/>
	<obj-relationship name="architecture" source="PkgVersion" target="Architecture" deleteRule="Nullify" db-relationship-path="architecture"/>
	<obj-relationship name="pkg" source="PkgVersion" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkgVersionCopyrights" source="PkgVersion" target="PkgVersionCopyright" deleteRule="Deny" db-relationship-path="pkg_version_copyrights"/>
	<obj-relationship name="pkgVersionLicenses" source="PkgVersion" target="PkgVersionLicense" deleteRule="Deny" db-relationship-path="pkg_version_licenses"/>
	<obj-relationship name="pkgVersionLocalizations" source="PkgVersion" target="PkgVersionLocalization" deleteRule="Nullify" db-relationship-path="pkg_version_localizations"/>
	<obj-relationship name="pkgVersionUrls" source="PkgVersion" target="PkgVersionUrl" deleteRule="Deny" db-relationship-path="pkg_version_urls"/>
	<obj-relationship name="repository" source="PkgVersion" target="Repository" deleteRule="Nullify" db-relationship-path="repository"/>
	<obj-relationship name="pkgVersion" source="PkgVersionCopyright" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="pkgVersion" source="PkgVersionLicense" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="descriptionLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="description_localization_content"/>
	<obj-relationship name="naturalLanguage" source="PkgVersionLocalization" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkgVersion" source="PkgVersionLocalization" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="summaryLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="summary_localization_content"/>
	<obj-relationship name="titleLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="title_localization_content"/>
	<obj-relationship name="pkgUrlType" source="PkgVersionUrl" target="PkgUrlType" deleteRule="Nullify" db-relationship-path="pkg_url_type"/>
	<obj-relationship name="pkgVersion" source="PkgVersionUrl" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="pkgs" source="Publisher" target="Pkg" deleteRule="Deny" db-relationship-path="pkgs"/>
	<obj-relationship name="architecture" source="Repository" target="Architecture" deleteRule="Nullify" db-relationship-path="architecture"/>
	<obj-relationship name="naturalLanguage" source="User" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="permissionUserPkgs" source="User" target="PermissionUserPkg" deleteRule="Cascade" db-relationship-path="untitledRel1"/>
	<obj-relationship name="userPasswordResetTokens" source="User" target="UserPasswordResetToken" deleteRule="Cascade" db-relationship-path="untitledRel"/>
	<obj-relationship name="user" source="UserPasswordResetToken" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="naturalLanguage" source="UserRating" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkgVersion" source="UserRating" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="user" source="UserRating" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="userRatingStability" source="UserRating" target="UserRatingStability" deleteRule="Nullify" db-relationship-path="user_rating_stability"/>
	<query name="SearchPkgVersions" factory="org.apache.cayenne.map.SQLTemplateBuilder" root="obj-entity" root-name="PkgVersion">
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[SELECT
#if($isTotal)
COUNT(DISTINCT pv.id) AS "total"
#else
    #result('pv.active', 'boolean', 'active'),
    #result('pv.architecture_id', 'long', 'architecture_id'),
    #result('pv.create_timestamp', 'java.sql.Timestamp', 'create_timestamp'),
    #result('pv.id', 'long', 'id'),
    #result('pv.major', 'String', 'major'),
    #result('pv.minor', 'String', 'minor'),
    #result('pv.micro', 'String', 'micro'),
    #result('pv.modify_timestamp', 'java.sql.Timestamp', 'modify_timestamp'),
    #result('pv.pkg_id', 'long', 'pkg_id'),
    #result('pv.pre_release', 'String', 'pre_release'),
    #result('pv.repository_id', 'long', 'repository_id'),
    #result('pv.revision', 'Integer', 'revision'),
    #result('pv.view_counter', 'long', 'view_counter'),
    #result('pv.is_latest', 'boolean', 'is_latest'),
    #result('pv.payload_length', 'Long', 'payload_length')
#end
FROM
haikudepot.pkg_version pv
JOIN haikudepot.pkg p ON p.id = pv.pkg_id
#if($search.architectures)
JOIN haikudepot.architecture a ON a.id = pv.architecture_id
#end
LEFT JOIN haikudepot.pkg_localization pl_nl ON pl_nl.pkg_id = p.id AND
    #if($search.naturalLanguage)
        #bindObjectEqual($search.naturalLanguage,'pl_nl.natural_language_id','id')
    #else
        #bindObjectEqual($englishNaturalLanguage,'pl_nl.natural_language_id','id')
    #end
LEFT JOIN haikudepot.pkg_localization pl_en ON pl_en.pkg_id = p.id AND
    #bindObjectEqual($englishNaturalLanguage,'pl_en.natural_language_id','id')
LEFT JOIN haikudepot.pkg_version_localization pvl_nl ON pvl_nl.pkg_version_id = pv.id AND
#if($search.naturalLanguage)
    #bindObjectEqual($search.naturalLanguage,'pvl_nl.natural_language_id','id')
#else
    #bindObjectEqual($englishNaturalLanguage,'pvl_nl.natural_language_id','id')
#end
LEFT JOIN haikudepot.localization_content pvl_nl_summary_lc ON pvl_nl_summary_lc.id = pvl_nl.summary_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_nl_title_lc ON pvl_nl_title_lc.id = pvl_nl.title_localization_content_id
LEFT JOIN haikudepot.pkg_version_localization pvl_en ON pvl_en.pkg_version_id = pv.id AND
    #bindObjectEqual($englishNaturalLanguage,'pvl_en.natural_language_id','id')
LEFT JOIN haikudepot.localization_content pvl_en_summary_lc ON pvl_en_summary_lc.id = pvl_en.summary_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_en_title_lc ON pvl_en_title_lc.id = pvl_en.title_localization_content_id
#if($search.pkgCategory)
JOIN haikudepot.pkg_pkg_category ppc ON ppc.pkg_id = p.id
#end
#if($search.sortOrdering.name() == "PROMINENCE")
LEFT JOIN haikudepot.prominence pr ON p.prominence_id = pr.id
#end
WHERE
pv.is_latest = true
#if(! $search.includeInactive)
AND p.active = true
AND pv.active = true
#end
#if($search.architectures)
AND a.code IN (
    #foreach( $architecture in $search.architectures )
        #bind($architecture.code)
        #if($velocityHasNext)
        ,
        #end
    #end
)
#end
#if($search.daysSinceLatestVersion)
AND pv.create_timestamp >= now() - #bind($search.daysSinceLatestVersion, 'INTEGER') * INTERVAL '1 DAY'
#end
#if($search.expression)
AND (
LOWER(COALESCE(pvl_nl_summary_lc.content,pl_nl.summary,pvl_en_summary_lc.content,pl_en.summary)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title,pvl_en_title_lc.content,pl_en.title)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(p.name) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
)
#end
#if($search.pkgCategory)
AND #bindObjectEqual($search.pkgCategory, 'ppc.pkg_category_id', 'id')
#end
#if($search.pkgNames)
    #if($search.pkgNames.isEmpty())
    AND true = false
    #else
    AND p.name IN (#bind($search.pkgNames))
    #end
#end
#if(!$isTotal)
ORDER BY
    #if($search.sortOrdering)
        #if($search.sortOrdering.name() == "PROMINENCE")
        pr.ordering ASC,
        #elseif($search.sortOrdering.name() == "VERSIONVIEWCOUNTER")
        pv.view_counter DESC,
        #elseif($search.sortOrdering.name() == "VERSIONCREATETIMESTAMP")
        pv.create_timestamp DESC,
        #end
    #end
LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title,pvl_en_title_lc.content,pl_en.title,p.name)) ASC
OFFSET #bind($search.offset)
LIMIT #bind($search.limit)
#end]]></sql>
	</query>
</data-map>
