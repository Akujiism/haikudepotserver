<breadcrumbs items="breadcrumbItems"></breadcrumbs>

<div class="content-container">

    <div id="pkg-title">
        <div id="pkg-title-icon">
            <pkg-icon size="32" pkg="pkg"></pkg-icon>
        </div>
        <div id="pkg-title-text">
            <h1>
                {{pkg.versions[0].summary}}
            </h1>
            <div class="muted">
                <small>
                    {{pkg.name}}
                    -
                    <version-label version="pkg.versions[0]"></version-label>
                    -
                    {{pkg.versions[0].architectureCode}}
                </small>
            </div>
        </div>
    </div>

    <div id="pkg-rating-indicator-container">
        <rating-indicator rating="3.5"></rating-indicator>
        <span class="pkg-ratings-indicator-sample"><small>Testing value</small></span>
    </div>

    <div id="pkg-screenshot-container" ng-show="pkgScreenshots.length">

        <div class="pkg-screenshot-item-container" ng-repeat="pkgScreenshot in pkgScreenshots">
            <div class="pkg-screenshot-item-controls-container">
                {{$index+1}}
                <a href="{{pkgScreenshot.imageDownloadUrl}}" target="_blank" ng-show="pkgScreenshots.length">
                    <img src="/img/download.svg">
                </a>
                <a href="{{pkgScreenshot.imageLargeUrl}}" target="_blank" ng-show="pkgScreenshots.length">
                    <img src="/img/newwindow.svg">
                </a>
            </div>
            <img ng-src="{{pkgScreenshot.imageThumbnailUrl}}">
        </div>

    </div>

    <div id="pkg-description-container" ng-show="pkg.versions[0].description">
        <p>
            <plain-text-content value="pkg.versions[0].description"></plain-text-content>
        </p>
    </div>

    <div id="pkg-metadata-container">

        <dl>
            <dt><message key="viewPkg.categories.title"></message></dt>
            <dd>
                <span ng-show="!pkgCategories">...</span>
                <span ng-show="pkgCategories && !pkgCategories.length">
                    <message key="viewPkg.categories.none"></message>
                </span>
                <span ng-show="pkgCategories.length"><span ng-repeat="pkgCategory in pkgCategories"><span ng-show="$index">, </span><pkg-category-label pkg-category="pkgCategory"></pkg-category-label></span>
            </dd>
            <dt><message key="viewPkg.versionViews.title"></message></dt>
            <dd>{{pkg.versions[0].viewCounter}}</dd>
        </dl>

    </div>

    <div id="pkg-userratings-container">

        <h2>User Ratings</h2>

        <ul>
            <li><a href="" ng-click="goAddUserRating()">Add user rating</a></li>
        </ul>

    </div>

    <div id="pkg-actions-container">

        <ul>
            <li>
                <a target="_blank" ng-show="homePageLink()" href="{{homePageLink()}}">
                    <message key="viewPkg.visitWebSiteAction.title"></message>
                </a>
            </li>
            <li ng-show="canRemoveIcon()" pkg="pkg" show-if-pkg-permission="'PKG_EDITICON'">
                <a href="" ng-click="goRemoveIcon()">
                    <message key="viewPkg.removeIconAction.title"></message>
                </a>
            </li>
            <li pkg="pkg" show-if-pkg-permission="'PKG_EDITICON'">
                <a href="" ng-click="goEditIcon()">
                    <message key="viewPkg.editIconAction.title"></message>
                </a>
            </li>
            <li ng-show="pkgIconHvifUrl">
                <a href="{{pkgIconHvifUrl}}">
                    <message key="viewPkg.downloadIconHvifAction.title"></message>
                </a>
            </li>
            <li pkg="pkg" show-if-pkg-permission="'PKG_EDITSCREENSHOT'">
                <a href="" ng-click="goEditScreenshots()">
                    <message key="viewPkg.editScreenshotsAction.title"></message>
                </a>
            </li>
            <li pkg="pkg" show-if-pkg-permission="'PKG_EDITVERSIONLOCALIZATION'">
                <a href="" ng-click="goEditVersionLocalization()">
                    <message key="viewPkg.editVersionLocalizationAction.title"></message>
                </a>
            </li>
            <li pkg="pkg" show-if-pkg-permission="'PKG_EDITCATEGORIES'">
                <a href="" ng-click="goEditPkgCategories()">
                    <message key="viewPkg.editPkgCategoriesAction.title"></message>
                </a>
            </li>
        </ul>
    </div>

</div>

<div class="footer"></div>
<spinner spin="shouldSpin()"></spinner>

