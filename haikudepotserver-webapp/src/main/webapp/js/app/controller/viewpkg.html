<breadcrumbs items="breadcrumbItems"></breadcrumbs>

<div class="content-container">

    <div id="pkg-title">
        <div id="pkg-title-icon">
            <pkg-icon size="32" pkg="pkg"></pkg-icon>
        </div>
        <div id="pkg-title-text">
            <h1>
                {{pkg.name}}
            </h1>
            <div class="muted">
                <small>
                    <version-label version="pkg.versions[0]"></version-label>
                    - {{pkg.versions[0].architectureCode}}
                </small>
            </div>
        </div>
    </div>

    <hr/>

    <div>

        <div id="pkg-screenshot-container">

            <div id="pkg-screenshot-pagination-container">

                <a href="{{currentPkgScreenshot().imageDownloadUrl}}" target="_blank" ng-show="pkgScreenshots.length">
                    <img src="/img/download.svg">
                </a>

                <a href="{{currentPkgScreenshot().imageLargeUrl}}" target="_blank" ng-show="pkgScreenshots.length">
                    <img src="/img/newwindow.svg">
                </a>

                <pagination-arrow
                        page-click="goPreviousScreenshot()"
                        active="pkgScreenshots.length && pkgScreenshotOffset > 0"
                        direction="left"></pagination-arrow>

                <pagination-arrow
                        page-click="goNextScreenshot()"
                        active="pkgScreenshots.length && pkgScreenshotOffset < (pkgScreenshots.length-1)"
                        direction="right"></pagination-arrow>

            </div>

            <div id="pkg-screenshot-title">
                <span ng-show="!pkgScreenshots.length">
                    <message key="viewPkg.screenshots.none.title"></message>
                </span>
                <span ng-show="pkgScreenshots.length">
                    <message key="viewPkg.screenshots.exists.title" parameters="[pkgScreenshotOffset+1,pkgScreenshots.length]"></message>
                </span>
            </div>

            <img ng-show="pkgScreenshots.length" ng-src="{{currentPkgScreenshot().imageThumbnailUrl}}">

            <div id="pkg-screenshot-status" ng-show="!pkgScreenshots.length">
                <span ng-show="undefined==pkgScreenshots">
                    <message key="viewPkg.screenshots.loading"></message>
                </span>
                <span ng-show="pkgScreenshots && !pkgScreenshots.length">
                    <message key="viewPkg.screenshots.none.description"></message>
                </span>
            </div>
        </div>

        <div id="pkg-info-container">
            <h2 ng-show="pkg.versions[0].summary" class="lead">{{pkg.versions[0].summary}}</h2>
            <p ng-show="pkg.versions[0].description">{{pkg.versions[0].description}}</p>

            <dl>
                <dt><message key="viewPkg.categories.title"></message></dt>
                <dd>
                    <span ng-show="!pkgCategories">...</span>
                <span ng-show="pkgCategories && !pkgCategories.length">
                    <message key="viewPkg.categories.none"></message>
                </span>
                <span ng-show="pkgCategories.length"><span ng-repeat="pkgCategory in pkgCategories"><span ng-show="$index">, </span><pkg-category-label pkg-category="pkgCategory"></pkg-category-label></span>
                </dd>
                <dt><message key="viewPkg.versionViews.title"></message></dt>
                <dd>{{pkg.versions[0].viewCounter}}</dd>
            </dl>

            <hr/>

            <ul>
                <li>
                    <a target="_blank" ng-show="homePageLink()" href="{{homePageLink()}}">
                        <message key="viewPkg.visitWebSiteAction.title"></message>
                    </a>
                </li>
                <li ng-show="canRemoveIcon()" pkg="pkg" show-if-pkg-permission="'PKG_EDITICON'">
                    <a href="" ng-click="goRemoveIcon()">
                        <message key="viewPkg.removeIconAction.title"></message>
                    </a>
                </li>
                <li pkg="pkg" show-if-pkg-permission="'PKG_EDITICON'">
                    <a href="" ng-click="goEditIcon()">
                        <message key="viewPkg.editIconAction.title"></message>
                    </a>
                </li>
                <li ng-show="pkgIconHvifUrl">
                    <a href="{{pkgIconHvifUrl}}">
                        <message key="viewPkg.downloadIconHvifAction.title"></message>
                    </a>
                </li>
                <li pkg="pkg" show-if-pkg-permission="'PKG_EDITSCREENSHOT'">
                    <a href="" ng-click="goEditScreenshots()">
                        <message key="viewPkg.editScreenshotsAction.title"></message>
                    </a>
                </li>
                <li pkg="pkg" show-if-pkg-permission="'PKG_EDITVERSIONLOCALIZATION'">
                    <a href="" ng-click="goEditVersionLocalization()">
                        <message key="viewPkg.editVersionLocalizationAction.title"></message>
                    </a>
                </li>
                <li pkg="pkg" show-if-pkg-permission="'PKG_EDITCATEGORIES'">
                    <a href="" ng-click="goEditPkgCategories()">
                        <message key="viewPkg.editPkgCategoriesAction.title"></message>
                    </a>
                </li>
            </ul>
        </div>

    </div>
</div>

<div class="footer"></div>
<spinner spin="shouldSpin()"></spinner>

